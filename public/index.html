<!DOCTYPE html>
<html>
<head>
    <title>Test</title>
    <style>
        table, th, td {
            border: 1px solid black;
        }
    </style>
</head>
<body>

<form action="/download-file">

<table id="file-table">
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Action</th>
    </tr>

</table>

<button type="submit" name="filename" value="test1.txt">Download</button>

</form>

<button id="bruhBtn">BRUH</button>

<p id="message">hi</p>

<script>
    const messageElement = document.getElementById('message');
    const baseURL = 'http://localhost:1234/info';

    async function getInfo(e) {
        e.preventDefault();
        try {
            const res = await fetch(baseURL, {
                method: 'GET'
            });
            console.log(res);
            const data = await res.json();
            messageElement.textContent = res; // Update the content of the message element
        } catch (error) {
            console.error('Error fetching data:', error);
        }
    }

    const bruhBtn = document.getElementById("bruhBtn");
    bruhBtn.addEventListener('click', getInfo);

    function addRow(name, type, url){
        var table = document.getElementById("file-table");
        var row = table.insertRow(-1);
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        var cell3 = row.insertCell(2);
        cell1.innerHTML = name;
        cell2.innerHTML = type;
        // cell3.innerHTML = url;
        // cell3.innerHTML = `<a href="${url}" onclick="downloadFile(url, name)">Download</a>`;
        // cell3.innerHTML = `<a onclick="downloadFile('${url}', '${name}')">Download</a>`;
        cell3.innerHTML = `<button type="submit" name="filename" value="${name}">Download</button>`
    }
</script>
</body>
</html>